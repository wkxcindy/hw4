<!DOCTYPE html>
<html>
<head>
  <title>Travel Journal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>  
  <%= csp_meta_tag %>  

  <!-- Add Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">  <!-- Bootstrap container & margin -->

  <!-- Bootstrap Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <% if session["user_id"] %>
          <li class="nav-item">
            <span class="navbar-text me-3">Logged in as <%= User.find_by(id: session["user_id"])&.username %></span>
          </li>
          <li class="nav-item">
            <form action="/logout" method="post" class="d-inline">
              <input type="hidden" name="_method" value="delete">
              <button class="btn btn-link nav-link" style="color:blue; text-decoration:underline;">Logout</button>
            </form>
          </li>
        <% else %>
          <li class="nav-item"><%= link_to "Login", "/login", class: "nav-link" %></li>
          <li class="nav-item"><%= link_to "Signup", "/signup", class: "nav-link" %></li>
        <% end %>
      </ul>
    </div>
  </nav>

  <%= yield %>  <!-- This is where page content is inserted -->

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>





